"0","# Order focus areas by overall frequency for a stable axis (top 15)"
"0","fa_counts <- pubs |> count(focusarea, name = ""n"") |> arrange(desc(n)) |> slice_head(n = 15)"
"0",""
"0","bslib::card("
"0","  bslib::card_header(""Top Focus Areas""),"
"0","  bslib::card_body("
"0","    plotly::plot_ly("
"0","      sd,"
"0","      y = ~factor(focusarea, levels = fa_counts$focusarea[order(fa_counts$n)]),"
"0","      type = ""histogram"","
"0","      orientation = ""h"","
"0","      marker = list(color = ""#E91E63"")"
"0","    ) |>"
"0","      plotly::layout("
"0","        xaxis = list(title = ""Count""),"
"0","        yaxis = list(title = """"),"
"0","        margin = list(l = 180)"
"0","      )"
"0","  )"
"0",")"
