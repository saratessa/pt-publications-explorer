"0","# Build shiny inputs from the data"
"0","yrs <- range(pubs0$year, na.rm = TRUE)"
"0","types <- sort(unique(na.omit(pubs0$publicationtype)))"
"0","foci  <- sort(unique(na.omit(pubs0$focusarea)))"
"0",""
"0","# Layout: filters left, stats right"
"0","bslib::layout_columns("
"0","  col_widths = c(4, 8),"
"0",""
"0","  # Filters (LEFT)"
"0","  bslib::card("
"0","    bslib::card_header(""Filters""),"
"0","    bslib::card_body("
"0","      sliderInput(""year"", ""Year"", min = yrs[1], max = yrs[2], value = yrs, sep = """"),"
"0","      selectizeInput(""type"", ""Publication type"", choices = types, selected = NULL, multiple = TRUE, options = list(placeholder = ""All types"")),"
"0","      selectizeInput(""focus"", ""Focus area"", choices = foci, selected = NULL, multiple = TRUE, options = list(placeholder = ""All focus areas"")),"
"0","      textInput(""q"", ""Search author/title/focus"", placeholder = ""e.g., Schmitt or precision teaching"")"
"0","    )"
"0","  ),"
"0",""
"0","  # Stats (RIGHT) â€” these WILL update with your filters"
"0","  uiOutput(""stats_boxes"")"
"0",")"
